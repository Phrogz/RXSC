<scxml xmlns="http://www.w3.org/2005/07/scxml" version="1.0" name="One-Shot Microwave">
  <parallel id="microwave">
    <state id="radiation">
      <state id="radiation-off"><transition event="turn.on" target="radiation-maybe"/></state>
      
      <state id="radiation-maybe">
        <transition event="turn.off" target="radiation-off"/>        
        <state id="radiation-maybe-paused" ><transition cond="In('door-closed')" target="radiation-maybe-cooking"/></state>
        <state id="radiation-maybe-cooking">
          <transition cond="In('door-open')" target="radiation-maybe-paused" />
          <transition event="food-done"      target="all-done" />
        </state>
      </state>
    </state>

    <state id="door">
      <state id="door-closed"><transition event="door.open"  target="door-open"  /></state>
      <state id="door-open"  ><transition event="door.close" target="door-closed"/></state>
    </state>
  </parallel>
  <final id="all-done">
    <donedata><content>Thank you for using the one-shot microwave. Please buy another!</content></donedata>
  </final>
</scxml>